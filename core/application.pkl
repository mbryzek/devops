open module Application

class Application {
    name: String(!isEmpty)
    port: Int(isBetween(0, 100000))
    scala: ScalaConfig?
    elm: ElmConfig?
    hugo: HugoConfig?
    sveltekit: SvelteKit?
}

class HugoConfig {}
class SvelteKit {}

class ElmConfig {
    rewrites: Listing<ElmRewrite>?
}

class ElmRewrite {
    from: String
    to: String
}

class ScalaConfig {
    artifactName: String(!isEmpty)
    distRunScriptName: String(!isEmpty)
    memory: MemoryConfig
    production : ScalaEnvironment
    development : ScalaEnvironment
}

class MemoryConfig {
    default: String(!isEmpty)
    jobServer: String(!isEmpty)
}

class ScalaEnvironment {
    database: Database
}

class Database {
    name: String(!isEmpty)
    host: String(!isEmpty)
    user: String(!isEmpty)
    port: Int
}
