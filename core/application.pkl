open module Application

class Application {
    name: String(!isEmpty)
    port: Int(isBetween(0, 100000))
    scala: ScalaConfig?
    elm: ElmConfig?
    hugo: HugoConfig?
    flutter: FlutterConfig?
}

class HugoConfig {}
class FlutterConfig {}

class ElmConfig {
    rewrites: Listing<ElmRewrite>?
}

class ElmRewrite {
    from: String
    to: String
}

class ScalaConfig {
    artifactName: String(!isEmpty)
    distRunScriptName: String(!isEmpty)
    production : ScalaEnvironment
    development : ScalaEnvironment
}

class ScalaEnvironment {
    database: Database
    nodes: Listing<Node>
}

class Database {
    name: String(!isEmpty)
    host: String(!isEmpty)
    user: String(!isEmpty)
    port: Int
}

class Node {
  uri: String(!isEmpty)
}
