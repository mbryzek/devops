#!/usr/bin/env ruby

# Generates environment variables for running scala applications locally.
# Used with eval to set environment variables for sbt.
#
# Usage:
#   eval "$(~/code/devops/bin/env --app platform --env development --format sh)"
#   sbt run
#
# Or combined:
#   eval "$(~/code/devops/bin/env --app platform --env development --format sh) sbt run"

load File.join(File.dirname(__FILE__), '../lib/common.rb')

args = Args.parse(ARGV, ["app"])
format = args.format || 'sh'

vars = EnvironmentVariables.load(args.app, args.env)
puts vars.serialize(format)
